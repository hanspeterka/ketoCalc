{% extends "base.html.j2" %}

{% block title %}
    Vítejte {{first_name}}
{% endblock %}

{% block script %}{% endblock %}

{% block content %}
    <div class="container">
        {% if not current_user.diets | length or not current_user.recipes | length or not current_user.ingredients | length %}
        <div class="row">
            <div class="col">
                <h2>Vítejte v kalkulačce!</h2>
                <p> První kroky:</p>
                <ul>
                {% if not current_user.diets | length %}
                    <li>Vytvořte první <a href="{{ url_for('DietsView:new') }}">dietu</a></li>
                {% endif %}
                {% if not current_user.recipes | length %}
                    <li>Vytvořte první <a href="{{ url_for('RecipesView:new') }}">recept</a></li>
                {% endif %}
                {% if not current_user.ingredients | length %}
                    <li>Přidejte vlastní <a href="{{ url_for('IngredientsView:new') }}">surovinu</a></li>
                {% endif %}
                </ul>
            </div>
        </div>
        {% endif %}
        <div class="row">
            <div class="col-8">
                <h4>Seznam receptů:</h4>
                <ul>
                    {% for recipe in selected_diet.recipes %}
                        <li>
                            <a href="{{ url_for('RecipesView:show', id=recipe.id) }}">{{ recipe.name }}</a></li>
                    {% endfor %}
                </ul>
            </div>

            <div class="form-inline col-3" style="display: block;">
                <form method="POST" action="{{ url_for('DashboardView:post') }}">
                    <select name="select_diet" class="form-control" onchange="this.form.submit()">
                        {% for diet in diets: %}
                            {% if selected_diet.id == diet.id %}
                                <option value="{{ diet.id }}" selected="selected">{{ diet.name }}</option>
                            {% else %}
                                <option value="{{ diet.id }}">{{ diet.name }}</option>
                            {% endif %}
                        {% endfor %}
                    </select>
                </form>
            </div>
        </div>
    </div>
{% endblock %}
