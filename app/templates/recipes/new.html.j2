{% extends "base.html.j2" %}
{% block title %}
    {{ texts.recipe_new }}
{% endblock %}

{% block script %}
    {% include 'recipes/new_recipe.js' %}
{% endblock %}

{% block content %}
    <div class="container-fluid container__main" data-controller="new-recipe">
        <div class="row">
            <div class="hidden" style="display: none">
                <select data-target="new-recipe.baseSelect">
                    {% for ingredient in ingredients: %}
                        <option name='{{ingredient.name}}' value="{{ingredient.id}}">{{ingredient.name}}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="prerecipe col-lg-6 col-md-12" >

                <div class="prerecipe__add-ingredient col-12">
                    <form class="prerecipe__add-ingredient__form form-inline" data-action="submit->new-recipe#add_ingredient">
                        <select class="prerecipe__add-ingredient__form__select form-control"
                        name="prerecipe__add-ingredient__form__select" id="prerecipe__add-ingredient__form__select" data-target="new-recipe.select">
                        {% for ingredient in ingredients: %}
                            <option name='{{ingredient.name}}' value="{{ingredient.id}}">{{ingredient.name}}</option>
                        {% endfor %}
                        </select>


                        <input type="submit" class="btn btn-primary add-ingredient-btn" value="PÅ™idat surovinu" />
                    </form>
                </div>

                <div class="prerecipe__selected-ingredients col-11">
                    <form class="form-group">
                        <table class="prerecipe__selected-ingredients__table table" data-target="new-recipe.ingredientTable">
                            <tr>
                                <th>{{ texts.title }}</th>
                                <th>{{ texts.energy_100 }}</th>
                                <th>{{ texts.protein_100 }}</th>
                                <th>{{ texts.fat_100 }}</th>
                                <th>{{ texts.sugar_100}}</th>
                                <th></th>
                            </tr>
                        </table>
                    </form>
                </div>

                <div class="prerecipe__calc col-12">
                    <form class="prerecipe__calc__form form-inline">
                        <label for="select-diet">{{ texts.diet_name}}</label>
                        <select name="select-diet" class="select-diet form-control">
                        {% for diet in diets: %}
                            <option value="{{diet.id}}">{{ diet.name }}</option>
                        {% endfor %}
                        </select>
                        <input type="submit" class=" prerecipe__calc__form__submit btn btn-primary" value="{{ texts.calc_amount }}" />
                    </form>
                </div>

            </div>

            <div class="recipe col-lg-6 col-md-12">

                <div class="recipe__loader"></div>

                <div class="recipe__wrong">
                    <span>{{ texts.recipe_impossible}}</span>
                </div>

                <div class="recipe__right" id="recipe__right">
                </div>
            </div>
        </div>
    </div>
{% endblock %}
