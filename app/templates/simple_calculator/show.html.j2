{% extends "base.html.j2" %}
{% block title %}
    {{ texts.recipe_new }}
{% endblock %}

{% block script %}
    {% include 'javascript/stimulus.js.html' %}
    {% include 'javascript/simple_calculator.js.html' %}
{% endblock %}

{% block content %}
    <div class="container" data-controller="simple-calculator">
        <div class="row">
            <div class="hidden" style="display: none">
                <select data-target="simple-calculator.baseSelect">
                    {% for ingredient in ingredients: %}
                        <option name='{{ingredient.name}}' value="{{ingredient.id}}">{{ingredient.name}}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="col">
                <div>
                    <form class="form-inline" data-action="submit->simple-calculator#add_ingredient">
                        <select class="form-control" id="ingredient_select" data-target="simple-calculator.select">
                        {% for ingredient in ingredients: %}
                            <option name='{{ingredient.name}}' value="{{ingredient.id}}">{{ingredient.name}}</option>
                        {% endfor %}
                        </select>

                        <input type="submit" class="btn btn-primary" value="Přidat surovinu" />
                    </form>
                </div>

                <div>
                    <table class="table" data-target="simple-calculator.ingredientTable">
                        <tr>
                            <th>{{ texts.title }}</th>
                            <th>{{ texts.energy_100 }}</th>
                            <th>{{ texts.protein_100 }}</th>
                            <th>{{ texts.fat_100 }}</th>
                            <th>{{ texts.sugar_100}}</th>
                            <th></th>
                        </tr>
                    </table>

                    <table class="table">
                        <tr>
                            <th>{{ texts.energy_simple }}</th>
                            <th>{{ texts.protein_simple }}</th>
                            <th>{{ texts.fat_simple }}</th>
                            <th>{{ texts.sugar_simple }}</th> 
                            <th>{{ texts.amount_simple }}</th> 
                        </tr>
                        <tr data-target="simple-calculator.totals"></tr>
                    </table>


                    <form class="form-inline" data-action="submit->simple-calculator#calculate_recipe">
                        <input type="submit" class="btn btn-primary"  value="{{ texts.calc_amount }}" />
                    </form>
                </div>

                <div>
                    <div class="data-source-aknowledgement">
                        Zdroje některých sdílených surovin:
                        <ul>
                            <li>
                            Na základě dat z NutriDatabaze.cz, verze 7.16, ÚZEI, Praha, www.nutridatabaze.cz/.
                            </li>
                        </ul>
                    </div>
                </div>

            </div>
{% endblock %}