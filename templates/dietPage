<!DOCTYPE html>
<html>
    <head>
    	<meta charset="utf-8">
    	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    	<title>Dieta: {{diet.name}}</title>
        {% include('bootstrap') %}
        {% include('styleBody') %}

        <script type="text/javascript">

            $(document).on("click", ".editShowButton", function() {
                $('.edit__form').show();
                $('.data__table').hide();
                $('.editShowButton').hide();
                $('.editHideButton').show();
            });

             $(document).on("click", ".editHideButton", function() {
                $('.edit__form').hide();
                $('.data__table').show();
                $('.editShowButton').show();
                $('.editHideButton').hide();
            });
    
        </script>

        <style type="text/css" media="screen">
            .edit__form{
                display: none;
            }

            .editHideButton{
                display: none;
            }            
        </style>
    </head>
    <body>
        {% include('navbar') %}

        <div class="container">
            <div class="row">
                <div class="col">
                    <label for="recipes"><h2>Recepty</h2></label>
                    <ul name="recipes">
                    {% for recipe in recipes: %}
                            <li><a href="/recipe={{recipe.id}}">{{ recipe.name }}</a></li>
                    {% endfor %} 
                    </ul>

                    <form action="/diet={{ diet.id }}/export" class="form-inline" method="post">
                        <input type="submit" class="btn btn-default" value="Exportovat recepty do diety">
                        <select name="diet" class="form-control">
                        {% for diet in diets %}
                            <option value="{{ diet.id }}">{{ diet.name }}</option>
                        {% endfor %}
                        </select>
                    </form>
                </div>

                <div class="col">
                    <table id="ingredients" class="table data__table">
                        <tr>
                            <th>Název</th>
                            <th>Bílkovina</th>
                            <th>Tuk</th>
                            <th>Sacharidy</th>
                        </tr>
                        <tr>
                            <td>{{diet.name}}</td>
                            <td>{{diet.protein}}</td>
                            <td>{{diet.fat}}</td>
                            <td>{{diet.sugar}}</td>
                        </tr>
                    </table>

                    <form action="/diet={{diet.id}}/edit" class="edit__form form-group" method="post" accept-charset="utf-8">
                        <table class="table">
                            <tr>
                                <th>Název</th>
                                <th>Bílkovina</th>
                                <th>Tuk</th>
                                <th>Sacharidy</th>
                                <th>Upravit</th>
                            </tr>
                            <tr>
                                <td>
                                    <input type="text" class="form-control" name="name" value="{{ diet.name }}" />
                                </td>
                                <td>
                                    {% if used == False %}
                                        <input type="text" class="form-control" pattern="[0-9]+([\.][0-9]+)?" name="protein" value="{{ diet.protein }}"/>
                                    {% else %}
                                        {{ diet.protein }}
                                    {% endif %}
                                </td>
                                <td>
                                    {% if used == False %}
                                        <input type="text" class="form-control" pattern="[0-9]+([\.][0-9]+)?" name="fat" value="{{ diet.fat }}"/>
                                    {% else %}
                                        {{ diet.fat }}
                                    {% endif %}
                                </td>
                                <td>
                                    {% if used == False %}
                                        <input type="text" class="form-control" pattern="[0-9]+([\.][0-9]+)?" name="sugar" value="{{ diet.sugar }}"/>
                                    {% else %}
                                        {{ diet.sugar }}
                                    {% endif %}
                                </td>
                                <td>
                                    <input type="submit" class="btn btn-warning" value="Uložit změnu" />
                                </td>
                            </tr>
                        </table>
                    </form>

                    <table class="table">
                        <tr>
                            <th>Velikost jídla</th>
                            <th>Podíl</th>
                        </tr>
                        <tr>
                            <td>Velké jídlo</td>
                            <td>{{ diet.big_size }} %</td>
                        </tr>
                        <tr>
                            <td>Malé jídlo</td>
                            <td>{{ diet.small_size }} %</td>
                        </tr>
                        
                    </table>

                    <form action="/diet={{ diet.id }}/remove" method="post" accept-charset="utf-8">
                        <input type="submit" class="btn btn-danger" value="Smazat dietu" />
                        <input type="button" class="editShowButton btn btn-warning" value="Upravit dietu" />
                        <input type="button" class="editHideButton btn btn-warning" value="Zrušit úpravy" />
                    </form>
                </div>  
            </div>   
        </div> 



    </body>
</html>